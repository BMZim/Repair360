<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mechanic Sign Up</title>
   <!-- Fonts & Libraries -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
    }

    body {
      min-height: 100vh;
      background:
        linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.85)),
        url('img/LS.jpeg') no-repeat center center fixed;
      background-size: cover;
      padding: 30px 15px;
    }

    .form-container {
      max-width: 1000px;
      margin: auto;
      background: #111;
      border-radius: 18px;
      padding: 35px 40px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.8);
      border: 1px solid rgba(255,255,255,0.08);
      display: flex;
      flex-wrap: wrap;
      gap: 25px;
      color: #fff;
    }

    .form-container h2 {
      width: 100%;
      text-align: center;
      font-size: 34px;
      margin-bottom: 5px;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .form-container::after {
      content: "Professional Mechanic Registration";
      width: 100%;
      text-align: center;
      color: #aaa;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .form-group {
      flex: 1 1 45%;
      display: flex;
      flex-direction: column;
    }

    .full-width {
      flex: 1 1 100%;
    }

    label {
      font-size: 14px;
      margin-bottom: 8px;
      color: #ccc;
      font-weight: 500;
    }

    input, select, textarea {
      padding: 12px 14px;
      font-size: 15px;
      border-radius: 10px;
      border: 1px solid #333;
      background: #1a1a1a;
      color: #fff;
      transition: all 0.3s ease;
    }

    textarea {
      resize: none;
      height: 110px;
    }

    input::placeholder, textarea::placeholder {
      color: #777;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #ff9800;
      box-shadow: 0 0 0 2px rgba(255,152,0,0.25);
      background: #1f1f1f;
    }

    .password-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .eye-icon {
      cursor: pointer;
      font-size: 18px;
      color: #ff9800;
      user-select: none;
    }

    .gender-group {
      display: flex;
      gap: 15px;
      margin-top: 5px;
    }

    .gender-group label {
      font-weight: 400;
      color: #ddd;
    }

    .button-group {
      width: 100%;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      margin-top: 25px;
    }

    #btnSubmit {
      flex: 1;
      background: linear-gradient(135deg, #ff9800, #ff5722);
      color: #000;
      font-size: 16px;
      font-weight: 700;
      border-radius: 12px;
      padding: 14px;
      cursor: pointer;
      border: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    #btnSubmit:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(255,152,0,0.4);
    }

    #reset {
      flex: 1;
      background: #2a2a2a;
      color: #fff;
      border-radius: 12px;
      padding: 14px;
      cursor: pointer;
      border: 1px solid #444;
    }

    #reset:hover {
      background: #333;
    }

    #otpGroup small {
      margin-top: 5px;
      font-size: 13px;
      color: #ff4d4d;
    }

    @media (max-width: 768px) {
      .form-group {
        flex: 1 1 100%;
      }
    }
  </style>
</head>

<body>
  <form id="signupForm" class="form-container" method="POST" >
    <h2>Mechanic Sign Up</h2>

    <div class="form-group">
      <label>Full Name:</label>
      <input type="text" name="name" id="name" placeholder="Enter Your Full Name" required />
    </div>

    <div class="form-group">
      <label>Mechanic ID:</label>
      <input type="text" name="mechanicid" id="mechanicid" placeholder="Enter Your ID" readonly />
    </div>

    <div class="form-group">
        <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="example@domain.com" required>
      
      </div>

    <div class="form-group">
      <label>Password:</label>
      <div class="password-wrapper">
        <input type="password" name="password" id="password" placeholder="Enter Password" required />
        <span class="eye-icon">üëÅÔ∏è</span>
      </div>
    </div>

    <div class="form-group">
      <label>Date of Birth:</label>
      <input type="date" name="dob" id="dob" required />
    </div>

    <div class="form-group">
      <label>Phone No:</label>
      <input type="tel" name="phone" placeholder="Enter Phone No" required />
    </div>

    <div class="form-group">
        <label for="nid">NID</label>
        <input type="number" id="nid" name="nid" placeholder="Enter your NID no." required>
      </div>

    <div class="form-group">
      <label>Gender:</label>
      <div class="gender-group">
        <label><input type="radio" name="gender" value="Male" checked /> Male</label>
        <label><input type="radio" name="gender" value="Female" /> Female</label>
        <label><input type="radio" name="gender" value="Another" /> Another</label>
      </div>
    </div>

    <div class="form-group">
      <label>Division:</label>
      <select name="division" required>
        <option value="">(Please select your Division)</option>
        <option value="Chattagram">Chattagram</option>
        <option value="Rajshahi">Rajshahi</option>
        <option value="Khulna">Khulna</option>
        <option value="Barishal">Barishal</option>
        <option value="Dhaka">Dhaka</option>
        <option value="Sylhet">Sylhet</option>
        <option value="Rangpur">Rangpur</option>
        <option value="Mymensingh">Mymensingh</option>
      </select>
    </div>

    <div class="form-group">
        <label for="city">City</label>
        <input type="text" id="city" name="city" placeholder="Enter your city" required>
      </div>

     <div class="form-group">
    <label>Type of Mechanic:</label>
    <select name="mechanicType" id="mechanicType" required>
      <option value="">(Select Mechanic Type)</option>
      <option value="Home">Home</option>
      <option value="Vehicle">Vehicle</option>
      <option value="Tech">Tech</option>
    </select>
  </div>

    <div class="form-group">
      <label>Years of Experience:</label>
      <input type="number" name="experience" id="experience" min="0" placeholder="e.g., 5" required />
    </div>

    <div class="form-group full-width">
      <label>Address:</label>
      <textarea name="address" id="address" placeholder="Enter Your Present Address (including district, Upazila, home no, road no, flat no.)" required></textarea>
    </div>

    <div class="button-group">
      <button type="reset" id="reset">Reset</button>
      <button type="submit" value="submit" id="btnSubmit" name="btnSubmit">Submit</button>
    </div>
  </form>

  <script>
$(document).ready(function () {

    // Generate mechanic ID
    let rand = Math.floor(Math.random() * 9000) + 1000;
    $('#mechanicid').val('25' + rand);

    // Show / hide password
    $('.eye-icon').click(function () {
        const pass = $('#password');
        pass.attr('type', pass.attr('type') === 'password' ? 'text' : 'password');
    });

    $('#btnSubmit').click(function (e) {
        e.preventDefault();

        // Collect values
        const name = $('#name').val().trim();
        const email = $('#email').val().trim();
        const password = $('#password').val();
        const dob = $('#dob').val();
        const phone = $('input[name="phone"]').val().trim();
        const nid = $('#nid').val().trim();
        const division = $('select[name="division"]').val();
        const city = $('#city').val().trim();
        const mechanicType = $('#mechanicType').val();
        const experience = $('#experience').val();
        const address = $('#address').val().trim();

        // Name
        if (name.length < 3) {
            return Swal.fire("Invalid Name", "Name must be at least 3 characters.", "error");
        }

        // Email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            return Swal.fire("Invalid Email", "Enter a valid email address.", "error");
        }

        // Password
        if (password.length < 8 || !/\d/.test(password)) {
            return Swal.fire(
                "Weak Password",
                "Password must be at least 8 characters and contain a number.",
                "error"
            );
        }

        // DOB & Age
        if (!dob) {
            return Swal.fire("DOB Required", "Please select your date of birth.", "error");
        }

        const birthDate = new Date(dob);
        const today = new Date();
        let age = today.getFullYear() - birthDate.getFullYear();
        if (today < new Date(birthDate.setFullYear(birthDate.getFullYear() + age))) age--;

        if (age < 18) {
            return Swal.fire("Age Restriction", "You must be at least 18 years old.", "error");
        }

        // Phone (Bangladesh)
        const phoneRegex = /^(?:\+88|01)?[3-9]\d{8}$/;
        if (!phoneRegex.test(phone)) {
            return Swal.fire("Invalid Phone", "Enter a valid Bangladeshi phone number.", "error");
        }

        // NID
        if (nid.length < 10 || nid.length > 12) {
            return Swal.fire("Invalid NID", "NID must be 10‚Äì17 digits.", "error");
        }

        // Division
        if (!division) {
            return Swal.fire("Division Required", "Please select your division.", "error");
        }

        // City
        if (city.length < 2) {
            return Swal.fire("Invalid City", "Please enter a valid city name.", "error");
        }

        // Mechanic Type
        if (!mechanicType) {
            return Swal.fire("Mechanic Type", "Please select mechanic type.", "error");
        }

        // Experience
        if (experience < 0) {
            return Swal.fire("Invalid Experience", "Experience cannot be negative.", "error");
        }

        // Address
        if (address.length < 10) {
            return Swal.fire("Invalid Address", "Address must be at least 10 characters.", "error");
        }

        // ‚úÖ All validations passed
Swal.fire({
    title: "Submitting",
    text: "Please wait...",
    icon: "success",
    timer: 1200,
    showConfirmButton: false
}).then(() => {
    const form = document.getElementById('signupForm');
    form.action = 'otp_verify.php';
    form.submit(); // This will now work because the button is no longer named "submit"
});

    });
});
</script>


</body>
</html>
