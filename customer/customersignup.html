<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Customer Sign-Up</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    :root {
      --primary-color: #4361ee;
      --secondary-color: #3f37c9;
      --success-color: #4cc9f0;
      --error-color: #f72585;
      --text-main: #2b2d42;
      --glass-bg: rgba(255, 255, 255, 0.85);
    }

    body {
      margin: 0;
      font-family: 'Inter', 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-attachment: fixed;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 30px 15px;
    }

    .form-container {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 24px;
      padding: 40px;
      max-width: 850px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    h1 {
      text-align: center;
      font-size: 2.2rem;
      font-weight: 800;
      margin-bottom: 30px;
      color: var(--text-main);
      letter-spacing: -1px;
    }

    form {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    /* Make address and button container span full width */
    .form-group.full-width {
      grid-column: 1 / -1;
    }

    label {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.9rem;
      color: #4a5568;
    }

    input, select, textarea {
      padding: 12px 16px;
      border-radius: 10px;
      border: 2px solid #e2e8f0;
      background-color: white;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      color: var(--text-main);
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.15);
    }

    #customer-id {
      background-color: #f8fafc;
      color: #64748b;
      cursor: not-allowed;
      border-style: dashed;
    }

    .gender-options {
      display: flex;
      gap: 15px;
      padding-top: 10px;
    }

    .gender-options label {
      font-weight: 500;
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .gender-options input {
      margin-right: 8px;
      accent-color: var(--primary-color);
    }

    .password-container {
      display: flex;
      position: relative;
    }
    
    .password-container input {
      width: 100%;
      padding-right: 60px;
    }

    .password-container button {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      padding: 6px 12px;
      border: none;
      background: #f1f5f9;
      color: #475569;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
    }

    .password-container button:hover {
      background: #e2e8f0;
    }

    .button-container {
      grid-column: 1 / -1;
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .button-container button {
      flex: 1;
      padding: 14px;
      font-size: 1rem;
      font-weight: 700;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      transition: all 0.3s transform;
    }

    button[type="reset"] {
      background-color: #f1f5f9;
      color: #475569;
    }

    button[type="submit"] {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
    }

    .button-container button:hover {
      transform: translateY(-2px);
      filter: brightness(1.1);
    }

    .button-container button:active {
      transform: translateY(0);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      form {
        grid-template-columns: 1fr;
      }
      .form-container {
        padding: 25px;
      }
    }
  </style>
</head>
<body>

  <div class="form-container">
    <h1>Create Account</h1>
    <form id="signupForm" method="POST">
      <div class="form-group">
        <label for="customer-id">System ID</label>
        <input type="text" id="customer-id" name="customer-id" readonly placeholder="Auto-generated ID">
      </div>

      <div class="form-group">
        <label for="full-name">Full Name</label>
        <input type="text" id="full-name" name="full-name" placeholder="John Doe" required>
      </div>

      <div class="form-group">
        <label for="nid">NID Number</label>
        <input type="number" id="nid" name="nid" placeholder="10-17 digit number" required>
      </div>
      
      <div class="form-group">
        <label for="password">Security Password</label>
        <div class="password-container">
          <input type="password" id="password" name="password" placeholder="Min. 8 characters" required>
          <button type="button" id="togglePassword">Show</button>
        </div>
      </div>

      <div class="form-group">
        <label for="dob">Date of Birth</label>
        <input type="date" id="dob" name="dob" required>
      </div>

      <div class="form-group">
        <label>Gender</label>
        <div class="gender-options">
          <label><input type="radio" name="gender" value="Male" checked> Male</label>
          <label><input type="radio" name="gender" value="Female"> Female</label>
          <label><input type="radio" name="gender" value="Other"> Other</label>
        </div>
      </div>

      <div class="form-group">
        <label for="division">Division</label>
        <select id="division" name="division" required>
          <option value="">Select Division</option>
          <option value="Dhaka">Dhaka</option>
          <option value="Chattagram">Chittagong</option>
          <option value="Barishal">Barisal</option>
          <option value="Khulna">Khulna</option>
          <option value="Rajshahi">Rajshahi</option>
          <option value="Sylhet">Sylhet</option>
          <option value="Rangpur">Rangpur</option>
          <option value="Mymensingh">Mymensingh</option>
        </select>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" placeholder="01XXXXXXXXX" required>
      </div>

      <div class="form-group">
        <label for="city">City</label>
        <input type="text" id="city" name="city" placeholder="e.g. Dhaka" required>
      </div>

      <div class="form-group">
        <label for="pin-code">Postal Code</label>
        <input type="text" id="pin-code" name="pin-code" placeholder="1207" required>
      </div>

      <div class="form-group full-width">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="example@domain.com" required>
      </div>

      <div class="form-group full-width">
        <label for="address">Full Residential Address</label>
        <textarea id="address" name="address" rows="2" placeholder="Street, House No, Area..." required></textarea>
      </div>

      <div class="button-container">
        <button type="reset">Clear Form</button>
        <button type="submit" value="submit" id="btnsubmit" name="btnsubmit">Create Account</button>
      </div>
    </form>
  </div>

  <script>
    $(document).ready(function () {
      // Logic preserved exactly as original
      let rand = Math.floor(Math.random() * 9000) + 1000;
      $('#customer-id').val('221' + rand);

      $('#togglePassword').click(function () {
        const pass = $('#password');
        if (pass.attr('type') === 'password') {
          pass.attr('type', 'text');
          $(this).text('Hide');
        } else {
          pass.attr('type', 'password');
          $(this).text('Show');
        }
      });

      $('#btnsubmit').click(function (e) {
        e.preventDefault();

        const name = $('#full-name').val().trim();
        const email = $('#email').val().trim();
        const password = $('#password').val();
        const dob = $('#dob').val();
        const phone = $('#phone').val().trim();
        const nid = $('#nid').val().trim();
        const division = $('#division').val();
        const city = $('#city').val().trim();
        const address = $('#address').val().trim();

        if (name.length < 3) {
          return Swal.fire("Invalid Name", "Name must be at least 3 characters.", "error");
        }

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          return Swal.fire("Invalid Email", "Enter a valid email address.", "error");
        }

        if (password.length < 8 || !/\d/.test(password)) {
          return Swal.fire(
            "Weak Password",
            "Password must be at least 8 characters and contain a number.",
            "error"
          );
        }

        if (!dob) {
          return Swal.fire("DOB Required", "Please select your date of birth.", "error");
        }

        const birthDate = new Date(dob);
        const today = new Date();
        let age = today.getFullYear() - birthDate.getFullYear();
        if (today < new Date(birthDate.setFullYear(birthDate.getFullYear() + age))) age--;

        if (age < 18) {
          return Swal.fire("Age Restriction", "You must be at least 18 years old.", "error");
        }

        const phoneRegex = /^(?:\+88|01)?[3-9]\d{8}$/;
        if (!phoneRegex.test(phone)) {
          return Swal.fire("Invalid Phone", "Enter a valid Bangladeshi phone number.", "error");
        }

        if (nid.length < 10 || nid.length > 17) {
          return Swal.fire("Invalid NID", "NID must be 10â€“17 digits.", "error");
        }

        if (!division) {
          return Swal.fire("Division Required", "Please select your division.", "error");
        }

        if (city.length < 2) {
          return Swal.fire("Invalid City", "Please enter a valid city name.", "error");
        }

        if (address.length < 10) {
          return Swal.fire("Invalid Address", "Address must be at least 10 characters.", "error");
        }

        Swal.fire({
          title: "Submitting",
          text: "Please wait...",
          icon: "success",
          timer: 1200,
          showConfirmButton: false
        }).then(() => {
          const form = document.getElementById('signupForm');
          form.action = 'otp_verify.php';
          form.submit();
        });
      });
    });
  </script>

</body>
</html>